# Project Terminus - Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Application
# =============================================================================

# Environment: development | production | test
NODE_ENV=development

# Server port
PORT=3001

# API prefix (default: /api)
API_PREFIX=api

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection (matches docker-compose.yml defaults)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=postgres
DATABASE_NAME=project_terminus

# Enable SQL query logging (true in development)
DATABASE_LOGGING=true

# Auto-sync entities with database (ONLY use in development)
DATABASE_SYNCHRONIZE=true

# =============================================================================
# Redis Cache
# =============================================================================

# Redis connection
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Redis database number (0-15)
REDIS_DB=0

# Cache TTL in seconds (default: 3600 = 1 hour)
REDIS_TTL=3600

# =============================================================================
# Authentication & Security
# =============================================================================

# JWT Secret for access tokens (MUST be changed in production!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars-long

# JWT access token expiration (examples: 15m, 1h, 1d, 7d)
JWT_EXPIRES_IN=1h

# JWT Refresh Token Secret (MUST be different from JWT_SECRET!)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
REFRESH_TOKEN_SECRET=your-refresh-secret-key-change-in-production-min-32-chars

# Refresh token expiration
REFRESH_TOKEN_EXPIRES_IN=7d

# Bcrypt rounds (10-12 recommended, higher = slower but more secure)
BCRYPT_ROUNDS=10

# =============================================================================
# CORS Configuration
# =============================================================================

# Allowed origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:3000

# Allow credentials (cookies, authorization headers)
CORS_CREDENTIALS=true

# =============================================================================
# Rate Limiting (Future Implementation)
# =============================================================================

# Rate limit: requests per window
# RATE_LIMIT_MAX=100

# Rate limit: window in milliseconds (15 minutes)
# RATE_LIMIT_WINDOW_MS=900000

# =============================================================================
# External APIs (Optional)
# =============================================================================

# NOAA Space Weather API
# NOAA_API_KEY=

# N2YO Satellite Tracking API
# Get your key at: https://www.n2yo.com/api/
# N2YO_API_KEY=

# CelesTrak API (usually doesn't require key)
# CELESTRAK_API_URL=https://celestrak.org

# ACLED API (for OSINT data)
# ACLED_API_KEY=
# ACLED_EMAIL=

# GDELT API (for OSINT data)
# GDELT_API_URL=https://api.gdeltproject.org

# =============================================================================
# Email Configuration (Future Implementation)
# =============================================================================

# SMTP settings for sending emails (password reset, verification, etc.)
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_USER=
# EMAIL_PASSWORD=
# EMAIL_FROM=noreply@terminus.dev

# =============================================================================
# Logging & Monitoring
# =============================================================================

# Log level: error | warn | info | debug | verbose
LOG_LEVEL=debug

# Sentry DSN for error tracking
# SENTRY_DSN=

# =============================================================================
# WebSocket Configuration (Future Implementation)
# =============================================================================

# WebSocket port (if different from main server)
# WS_PORT=3002

# WebSocket path
# WS_PATH=/socket.io

# =============================================================================
# File Upload (Future Implementation)
# =============================================================================

# Maximum file size in bytes (10MB)
# MAX_FILE_SIZE=10485760

# Upload directory
# UPLOAD_DIR=./uploads

# =============================================================================
# Background Jobs (Future Implementation)
# =============================================================================

# Enable scheduled tasks
# ENABLE_CRON_JOBS=true

# OSINT data refresh interval (in minutes)
# OSINT_REFRESH_INTERVAL=30

# Satellite data refresh interval (in minutes)
# SATELLITE_REFRESH_INTERVAL=5

# =============================================================================
# Development & Debug
# =============================================================================

# Enable Swagger API documentation
ENABLE_SWAGGER=true

# Swagger path (default: /api/docs)
SWAGGER_PATH=docs

# Enable request validation
ENABLE_VALIDATION=true

# Enable CORS (should be true for separate frontend)
ENABLE_CORS=true
